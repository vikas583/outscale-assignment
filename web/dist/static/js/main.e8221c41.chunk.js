/*! For license information please see main.e8221c41.chunk.js.LICENSE.txt */
(this["webpackJsonpfintex-ui"]=this["webpackJsonpfintex-ui"]||[]).push([[0],{172:function(e,t,a){},173:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);a(162);var s=a(50),c=a(1),n=a.n(c),r=a(36),l=a.n(r),i=(a(168),a(18)),o=a(142),j=a(32),d=a(13),b=a(40),m=a.n(b),h=(a(171),a(172),a(173),a(143)),x=a.n(h),O=a(144);const u=a.n(O).a.create({baseURL:"http://localhost:4000/"});u.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers={...e.headers||{},Authorization:"Bearer ".concat(t)}),e}),(e=>Promise.reject(e)));var p=u;const g=()=>{const e=Object(i.useQueryClient)();return Object(i.useQuery)(["user"],(()=>p.get("/auth/me").then((e=>e.data))),{retry:!1,refetchOnMount:!1,cacheTime:x()("1d"),staleTime:1/0,onError(){e.setQueryData(["user"],void 0)}})};var v=a(2);var f=()=>{const[e,t]=Object(c.useState)(!1),a=()=>{const e=document.documentElement.scrollTop;e>300?t(!0):e<=300&&t(!1)};return Object(c.useEffect)((()=>(window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)})),[]),Object(v.jsx)("div",{style:{position:"fixed",cursor:"pointer",bottom:30,right:30},children:Object(v.jsx)("i",{className:"fas fa-arrow-circle-up fa-2x",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},style:{display:e?"inline":"none"}})})};let N,y,w,k,C,S,P;!function(e){e.OD="OD",e.ORC="ORC"}(N||(N={})),function(e){e.Deferred="Deferred",e.Unbilled="Unbilled"}(y||(y={})),function(e){e.False="False",e["ORC Finished"]="ORC Finished",e["OD Finished"]="OD Finished"}(w||(w={})),function(e){e.revTeam="revTeam",e.opsTeam="opsTeam"}(k||(k={})),function(e){e.admin="admin",e.read="read",e.write="write"}(C||(C={})),function(e){e.running="running",e.completed="completed",e.error="error"}(S||(S={})),function(e){e.error="error",e.success="success"}(P||(P={}));var T=a(153),E=a(273),D=a(274),I=a(275),F=a(276),L=a(277),Q=a(278),R=a(147),A=a(279),B=a(280),M=a(148);var z=()=>{const{mutate:e,isLoading:t}=(e=>{const t=Object(i.useQueryClient)(),a=Object(d.g)();return Object(i.useMutation)((e=>{let{email:t,password:a}=e;return p.post("/auth/login",{email:t,password:a}).then((e=>e.data))}),{onError:a=>{var s;console.error(null===(s=a.response)||void 0===s?void 0:s.data),t.setQueryData(["user"],void 0);let c="Cannot login! Please try again later.";if(a.response){const{message:e}=a.response.data;c=e}e(!0,c)},onSuccess:s=>{console.log(s),localStorage.setItem("token",s.token),t.setQueryData(["user"],s.user),e(!1),a.replace("/admin/my-books")}})})(((e,t)=>{e&&m.a.error(t)}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(E.a,{lg:"5",md:"7",children:Object(v.jsx)(D.a,{className:"bg-secondary shadow border-0",children:Object(v.jsxs)(I.a,{className:"px-lg-5 py-lg-5",children:[Object(v.jsx)("div",{className:"text-center text-muted mb-4",children:Object(v.jsx)("small",{children:"Sign in with credentials"})}),Object(v.jsx)(T.a,{initialValues:{email:"",password:""},validate:e=>{const t={},{email:a,password:s}=e;return a.length<=0&&(t.email="Email is required!"),s.length<=0&&(t.password="Password is required!"),t},onSubmit:async(a,s)=>{let{setSubmitting:c}=s;(async a=>{if(!t)try{e({email:a.email,password:a.password})}catch(s){console.error(s),m.a.error("Cannot login. Please try again later.")}})(a)},children:e=>{let{handleChange:t,handleBlur:a,submitForm:s,isSubmitting:c,values:n,errors:r}=e;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F.a,{className:"mb-3",children:Object(v.jsxs)(L.a,{className:"input-group-alternative",children:[Object(v.jsx)(Q.a,{addonType:"prepend",children:Object(v.jsx)(R.a,{children:Object(v.jsx)("i",{className:"ni ni-email-83"})})}),Object(v.jsx)(A.a,{placeholder:"Email",type:"email",name:"email",value:n.email,valid:!r.email,onChange:t,onBlur:a}),r.email&&Object(v.jsx)(B.a,{color:"red",children:r.email})]})}),Object(v.jsx)(F.a,{children:Object(v.jsxs)(L.a,{className:"input-group-alternative",children:[Object(v.jsx)(Q.a,{addonType:"prepend",children:Object(v.jsx)(R.a,{children:Object(v.jsx)("i",{className:"ni ni-lock-circle-open"})})}),Object(v.jsx)(A.a,{placeholder:"Password",type:"password",name:"password",value:n.password,valid:!r.password,onChange:t,onBlur:a}),r.password&&Object(v.jsx)(B.a,{color:"red",children:r.password})]})}),Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(M.a,{className:"my-4",color:"primary",type:"button",onClick:()=>{Object.keys(r).length>0||c||s()},children:"Sign in"})})]})}})]})})})})},W=a(298),U=a(287),_=a(288),q=a(281),J=a(289),G=a(290);var H=()=>Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"header bg-gradient-info pb-6 pt-5 pt-md-8",children:Object(v.jsx)(q.a,{fluid:!0,children:Object(v.jsx)("div",{className:"header-body"})})})}),V=a(285),K=a(286),Z=a(282),X=a(283),Y=a(284);const $=()=>Object(v.jsx)("span",{className:"px-2 py-1",children:"..."}),ee=e=>{let{page:t,isActive:a,onClick:s}=e;return Object(v.jsx)(Z.a,{className:a?"active":"",children:Object(v.jsx)(X.a,{onClick:s,children:t})})};var te=e=>{const{activePage:t,totalResults:a,resultsPerPage:s=10,onChange:n}=e,[r,l]=Object(c.useState)([]),i=Math.ceil(a/s),o=i;return Object(c.useEffect)((()=>{l(i<=7?Array.from({length:i}).map(((e,t)=>t+1)):t<5?[1,2,3,4,5,"...",i]:t>=5&&t<i-3?[1,"...",t-1,t,t+1,"...",i]:[1,"...",i-4,i-3,i-2,i-1,i])}),[t,i]),Object(v.jsxs)(Y.a,{className:"pagination mb-0",listClassName:"mb-0",children:[Object(v.jsx)(Z.a,{className:1===t?"disabled":"",children:Object(v.jsxs)(X.a,{onClick:1===t?void 0:function(){n(t-1)},tabIndex:-1,children:[Object(v.jsx)("i",{className:"fas fa-angle-left"}),Object(v.jsx)("span",{className:"sr-only",children:"Previous"})]})}),r.map(((e,a)=>Object(v.jsx)("li",{children:"..."===e?Object(v.jsx)($,{}):Object(v.jsx)(ee,{page:e,isActive:e===t,onClick:()=>n(+e)})},e.toString()+a))),Object(v.jsx)(Z.a,{className:t===o?"disabled":"",children:Object(v.jsxs)(X.a,{onClick:t===o?void 0:function(){n(t+1)},children:[Object(v.jsx)("i",{className:"fas fa-angle-right"}),Object(v.jsx)("span",{className:"sr-only",children:"Next"})]})})]})};var ae=e=>{let{currentPage:t,total:a,resultsPerPage:s,bookData:n,onPageChange:r}=e;const[l,i]=Object(c.useState)(void 0),[o,j]=Object(c.useState)(!1),[d,b]=Object(c.useState)(!1),{data:m}=g();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(V.a,{children:[Object(v.jsx)("thead",{className:"thead-light",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Book ID"}),Object(v.jsx)("th",{children:"Name"}),Object(v.jsx)("th",{children:"Title"}),Object(v.jsx)("th",{children:"Is Published"})]})}),Object(v.jsx)("tbody",{children:n.map(((e,t)=>Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"text-sm",children:e.id})}),Object(v.jsx)("th",{children:Object(v.jsx)("span",{className:"text-sm",children:e.name})}),Object(v.jsx)("th",{children:Object(v.jsx)("span",{className:"text-sm",children:e.title})}),Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"text-sm",children:e.isPublish})})]},t)))})]}),Object(v.jsx)(K.a,{className:"py-4",children:Object(v.jsx)("nav",{"aria-label":"...",children:Object(v.jsx)(te,{activePage:t,totalResults:a,resultsPerPage:s,onChange:r,label:"Table navigation"})})})]})};var se=()=>{const[e,t]=Object(c.useState)(1),a=Object(c.useRef)(null),{data:s,isLoading:n,error:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const a=(e-1)*t;return Object(i.useQuery)(["myBooksList",e],(()=>p.get("/books/user/".concat(a,"/").concat(t)).then((e=>{let{data:t}=e;return t}))),{staleTime:1/0,keepPreviousData:!0})}(e,10);let l=null;return n?l=Object(v.jsx)(U.a,{}):r?l=Object(v.jsx)(_.a,{type:"danger",className:"text-center",children:"Something went wrong! Please try again later."}):s&&(l=Object(v.jsx)("div",{children:Object(v.jsx)(ae,{currentPage:e,onPageChange:t,resultsPerPage:10,bookData:s.books,total:s.total})})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(H,{}),Object(v.jsx)(q.a,{className:"mt--7",fluid:!0,children:Object(v.jsx)(J.a,{className:"mt-5",children:Object(v.jsx)(E.a,{className:"mb-5 mb-xl-0",children:Object(v.jsxs)(D.a,{className:"shadow",children:[Object(v.jsx)(G.a,{className:"border-0",children:Object(v.jsx)(J.a,{className:"align-items-center",children:Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"input-group-alternative input-group",children:[Object(v.jsx)("div",{className:"input-group-prepend",children:Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("i",{className:"fas fa-search"})})}),Object(v.jsx)("input",{ref:a,placeholder:"Search user by name",type:"text",className:"form-control"})]})})})}),Object(v.jsx)(W.a,{className:"overflow-auto px-4 pb-4",children:l})]})})})})]})};var ce=[{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:z,layout:"/auth",isSidebarItem:!1},{path:"/dashboard",name:"Dashboard",icon:"fa fa-home",component:()=>Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(H,{}),null]}),layout:"/admin",isSidebarItem:!0,allow:[C.admin]},{path:"/my-books",name:"My Books",icon:"ni ni-circle-08",component:se,layout:"/admin",isSidebarItem:!0,allow:[C.admin]}];var ne=a(69),re=a(291),le=a(292),ie=a(293),oe=a(294),je=a(299),de=a(300),be=a(301),me=a(295),he=a(296),xe=a(297);var Oe=e=>{const{data:t}=g(),[a,s]=Object(c.useState)(!1),n=()=>{s((e=>!e))},r=()=>{s(!1)},{routes:l}=e,o=Object(i.useQueryClient)(),b=Object(d.g)();return Object(v.jsx)(ie.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main",children:Object(v.jsxs)(q.a,{fluid:!0,children:[Object(v.jsx)("button",{className:"navbar-toggler",type:"button",onClick:n,children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsx)("div",{className:"text-center mb-0 pt-2 h3",children:"Techlance"}),Object(v.jsxs)(oe.a,{className:"align-items-center d-md-none",children:[Object(v.jsxs)(je.a,{nav:!0,children:[Object(v.jsx)(de.a,{nav:!0,className:"nav-link-icon",children:Object(v.jsx)("i",{className:"ni ni-bell-55"})}),Object(v.jsxs)(be.a,{"aria-labelledby":"navbar-default_dropdown_1",className:"dropdown-menu-arrow",right:!0,children:[Object(v.jsx)(me.a,{children:"Action"}),Object(v.jsx)(me.a,{children:"Another action"}),Object(v.jsx)(me.a,{divider:!0}),Object(v.jsx)(me.a,{children:"Something else here"})]})]}),Object(v.jsxs)(je.a,{nav:!0,children:[Object(v.jsx)(de.a,{nav:!0,children:Object(v.jsx)(he.a,{className:"align-items-center",children:Object(v.jsx)(ne.a,{name:null===t||void 0===t?void 0:t.name,size:"36",className:"avatar rounded-circle"})})}),Object(v.jsxs)(be.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(v.jsx)(me.a,{className:"noti-title",header:!0,tag:"div",children:Object(v.jsx)("h6",{className:"text-overflow m-0",children:"Welcome!"})}),Object(v.jsxs)(me.a,{to:"/admin/user-profile",tag:j.b,children:[Object(v.jsx)("i",{className:"ni ni-single-02"}),Object(v.jsx)("span",{children:"My profile"})]}),Object(v.jsxs)(me.a,{to:"/admin/user-profile",tag:j.b,children:[Object(v.jsx)("i",{className:"ni ni-settings-gear-65"}),Object(v.jsx)("span",{children:"Settings"})]}),Object(v.jsx)(me.a,{divider:!0}),Object(v.jsxs)(me.a,{onClick:()=>{localStorage.removeItem("token"),b.replace("/auth/login"),o.clear()},children:[Object(v.jsx)("i",{className:"ni ni-user-run"}),Object(v.jsx)("span",{children:"Logout"})]})]})]})]}),Object(v.jsxs)(xe.a,{navbar:!0,isOpen:a,children:[Object(v.jsx)("div",{className:"navbar-collapse-header d-md-none",children:Object(v.jsxs)(J.a,{children:[Object(v.jsx)(E.a,{className:"collapse-brand",xs:"6",children:Object(v.jsx)("div",{className:"text-dark mb-0",children:"Chemical Analysis"})}),Object(v.jsx)(E.a,{className:"collapse-close",xs:"6",children:Object(v.jsxs)("button",{className:"navbar-toggler",type:"button",onClick:n,children:[Object(v.jsx)("span",{}),Object(v.jsx)("span",{})]})})]})}),Object(v.jsx)(oe.a,{navbar:!0,children:(e=>e.map(((e,t)=>Object(v.jsx)(re.a,{children:Object(v.jsxs)(le.a,{to:e.layout+e.path,tag:j.c,onClick:r,activeClassName:"active",children:[Object(v.jsx)("i",{className:e.icon}),e.name]})},t))))(l)})]})]})})};var ue=()=>Object(v.jsx)("footer",{className:"footer",children:Object(v.jsx)(J.a,{className:"align-items-center justify-content-xl-between",children:Object(v.jsx)(E.a,{xl:"6",children:Object(v.jsxs)(oe.a,{className:"nav-footer justify-content-center justify-content-xl-end",children:[Object(v.jsx)(re.a,{children:Object(v.jsx)(le.a,{href:"/",rel:"noopener noreferrer",target:"_blank",children:"EDD"})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(le.a,{href:"",rel:"noopener noreferrer",target:"_blank",children:"Write To Us"})})]})})})});var pe=()=>{const{data:e}=g(),t=Object(i.useQueryClient)(),a=Object(d.g)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(ie.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main",children:Object(v.jsxs)(q.a,{fluid:!0,children:[Object(v.jsx)("div",{className:"text-center mb-0 pt-2 h3 text-white"}),Object(v.jsx)(oe.a,{className:"align-items-center d-none d-md-flex",navbar:!0,children:Object(v.jsxs)(je.a,{nav:!0,children:[Object(v.jsx)(de.a,{className:"pr-0",nav:!0,children:Object(v.jsxs)(he.a,{className:"align-items-center",children:[Object(v.jsx)(ne.a,{name:null===e||void 0===e?void 0:e.name,size:"36",className:"avatar rounded-circle"}),Object(v.jsx)(he.a,{className:"ml-2 d-none d-lg-block",children:Object(v.jsx)("span",{className:"mb-0 text-sm font-weight-bold",children:null===e||void 0===e?void 0:e.name})})]})}),Object(v.jsxs)(be.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(v.jsx)(me.a,{className:"noti-title",header:!0,tag:"div",children:Object(v.jsxs)("h6",{className:"text-overflow m-0",children:["Welcome, ",null===e||void 0===e?void 0:e.name,"!"]})}),Object(v.jsx)(me.a,{divider:!0}),Object(v.jsxs)(me.a,{onClick:()=>{localStorage.removeItem("token"),a.replace("/auth/login"),t.clear()},children:[Object(v.jsx)("i",{className:"ni ni-user-run"}),Object(v.jsx)("span",{children:"Logout"})]})]})]})})]})})})};var ge=()=>{const{data:e,isLoading:t}=g(),a=Object(d.g)(),s=Object(c.useRef)(null),n=Object(d.h)();Object(c.useEffect)((()=>{t||e||a.replace("/auth/login")}),[e,t,a]),Object(c.useEffect)((()=>{document.documentElement.scrollTop=0,document.scrollingElement&&(document.scrollingElement.scrollTop=0),s.current&&(s.current.scrollTop=0)}),[n]);const r=ce.filter((e=>e.isSidebarItem)).filter((t=>!t.allow||((e,t)=>{const a=new Set(e);for(const s of t)if(!a.has(s))return!1;return!0})((null===e||void 0===e?void 0:e.roles)||[],t.allow)));return e?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Oe,{routes:r}),Object(v.jsxs)("div",{className:"main-content",ref:s,children:[Object(v.jsx)(pe,{}),Object(v.jsx)(d.d,{children:(l=ce,l.map(((e,t)=>"/admin"===e.layout?Object(v.jsx)(d.b,{path:e.layout+e.path,component:e.component},t):null)))}),Object(v.jsx)(q.a,{fluid:!0,children:Object(v.jsx)(ue,{})}),Object(v.jsx)(f,{})]})]}):null;var l};var ve=()=>{const e=Object(d.g)(),{data:t}=g(),a=n.a.useRef(),s=Object(d.h)();Object(c.useEffect)((()=>{t&&e.replace("/admin/dashboard")}),[t,e]),Object(c.useEffect)((()=>(document.body.classList.add("bg-default"),()=>{document.body.classList.remove("bg-default")})),[]),Object(c.useEffect)((()=>{document.documentElement.scrollTop=0,document.scrollingElement&&(document.scrollingElement.scrollTop=0),a.current&&(a.current.scrollTop=0)}),[s]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"main-content",ref:a,children:[Object(v.jsxs)("div",{className:"header bg-gradient-info py-7 py-lg-8",children:[Object(v.jsx)(q.a,{children:Object(v.jsx)("div",{className:"header-body text-center mb-7",children:Object(v.jsx)(J.a,{className:"justify-content-center",children:Object(v.jsx)(E.a,{lg:"5",md:"6",children:Object(v.jsx)("h1",{className:"text-white",children:"Welcome!"})})})})}),Object(v.jsx)("div",{className:"separator separator-bottom separator-skew zindex-100",children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0",children:Object(v.jsx)("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})})})]}),Object(v.jsx)(q.a,{className:"mt--8 pb-5",children:Object(v.jsx)(J.a,{className:"justify-content-center",children:Object(v.jsxs)(d.d,{children:[(r=ce,r.map(((e,t)=>"/auth"===e.layout?Object(v.jsx)(d.b,{path:e.layout+e.path,component:e.component},t):null))),Object(v.jsx)(d.a,{from:"*",to:"/auth/login"})]})})})]})});var r};const fe=Object(s.c)({seekToMs:-1,seekTo:Object(s.b)(((e,t)=>({...e,seekToMs:t})))}),Ne=Object(s.d)();Ne.useStoreActions,Ne.useStoreDispatch,Ne.useStoreState;var ye=fe,we=a(154);Object(we.a)({apiKey:"AIzaSyDVvePmOGsydwTbIFphzkxQSZmM-PgEWHs",authDomain:"fintex-e9e4d.firebaseapp.com",projectId:"fintex-e9e4d",storageBucket:"fintex-e9e4d.appspot.com",messagingSenderId:"384765227575",appId:"1:384765227575:web:e4aeb2449e1d687ede45b2",measurementId:"G-SQJS07FHW7"});var ke=()=>Object(v.jsx)("div",{style:{position:"fixed",top:0,left:0,bottom:0,right:0,overflow:"hidden",margin:"auto"},children:Object(v.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(v.jsx)("h1",{children:"Loading..."}),Object(v.jsx)(U.a,{})]})});m.a.options={positionClass:"toast-bottom-center"};const Ce=new i.QueryClient,Se=()=>{const{isLoading:e}=g();return Object(v.jsx)(j.a,{children:e?Object(v.jsx)(ke,{}):Object(v.jsxs)(d.d,{children:[Object(v.jsx)(d.b,{path:"/admin",render:()=>Object(v.jsx)(ge,{})}),Object(v.jsx)(d.b,{path:"/auth",render:()=>Object(v.jsx)(ve,{})}),Object(v.jsx)(d.a,{from:"/",to:"/auth/login"})]})})},Pe=()=>Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(i.QueryClientProvider,{client:Ce,children:Object(v.jsxs)(s.a,{store:ye,children:[Object(v.jsx)(Se,{}),Object(v.jsx)(o.ReactQueryDevtools,{initialIsOpen:!1})]})})});l.a.render(Object(v.jsx)(Pe,{}),document.getElementById("root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.e8221c41.chunk.js.map